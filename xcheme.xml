<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"?>
<scheme>
    <comment>Building a list of squares from 0 to 9. Note: loop is simply an arbitrary symbol used as a label. Any symbol will do.</comment>
    <list>
        <symbol>define</symbol>
        <list>
            <symbol>last-element</symbol>
            <symbol>l</symbol>
        </list>
        <list>
            <symbol>cond</symbol>
            <list>
                <list>
                    <symbol>null?</symbol>
                    <list>
                        <symbol>cdr</symbol>
                        <symbol>l</symbol>
                    </list>
                </list>
                <list>
                    <symbol>car</symbol>
                    <symbol>l</symbol>
                </list>
            </list>
            <list>
                <symbol>else</symbol>
                <list>
                    <symbol>last-element</symbol>
                    <list>
                        <symbol>cdr</symbol>
                        <symbol>l</symbol>
                    </list>
                </list>
            </list>
        </list>
    </list>
    <list>
        <symbol>define</symbol>
        <list>
            <symbol>list-of-squares</symbol>
            <symbol>n</symbol>
        </list>
        <list>
            <symbol>let</symbol>
            <symbol>loop</symbol>
            <list>
                <list>
                    <symbol>i</symbol>
                    <symbol>n</symbol>
                </list>
                <list>
                    <symbol>res</symbol>
                    <list escaped="true" />
                </list>
            </list>
            <list>
                <symbol>if</symbol>
                <list>
                    <symbol>&lt;</symbol>
                    <symbol>i</symbol>
                    <symbol>0</symbol>
                </list>
                <symbol>res</symbol>
                <list>
                    <symbol>loop</symbol>
                    <list>
                        <symbol>-</symbol>
                        <symbol>i</symbol>
                        <symbol>1</symbol>
                    </list>
                    <list>
                        <symbol>cons</symbol>
                        <list>
                            <symbol>*</symbol>
                            <symbol>i</symbol>
                            <symbol>i</symbol>
                        </list>
                        <symbol>res</symbol>
                    </list>
                </list>
            </list>
        </list>
    </list>
    <list>
        <symbol>println</symbol>
        <list>
            <symbol>last-element</symbol>
            <list>
                <symbol>list-of-squares</symbol>
                <symbol>5</symbol>
            </list>
        </list>
    </list>
</scheme>
